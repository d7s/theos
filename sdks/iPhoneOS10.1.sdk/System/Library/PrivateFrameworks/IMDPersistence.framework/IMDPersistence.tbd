---
archs:           [ armv7, armv7s, arm64 ]
platform:        ios
install-name:    /System/Library/PrivateFrameworks/IMDPersistence.framework/IMDPersistence
current-version: 800.0.0
compatibility-version: 1.0.0
exports:
  - archs:            [ armv7, armv7s, arm64 ]
    symbols:          [ _CSDBSharedRecordStore,
                        _IMDAttachmentRecordAddAttachment, _IMDAttachmentRecordBulkUpdate,
                        _IMDAttachmentRecordCopyAttachmentForGUIDUnlocked, _IMDAttachmentRecordCopyAttachmentGUIDsAndPathsForChatIdentifiersOnServicesQuery,
                        _IMDAttachmentRecordCopyAttachmentRecordUnlocked, _IMDAttachmentRecordCopyFilename,
                        _IMDAttachmentRecordCopyMIMEType, _IMDAttachmentRecordCopyTransferName,
                        _IMDAttachmentRecordCopyUserInfo, _IMDAttachmentRecordCreateFromRecordID,
                        _IMDAttachmentRecordDeleteAttachmentForGUID, _IMDAttachmentRecordDeleteAttachmentsOlderThanDays,
                        _IMDAttachmentRecordGetCreatedDate, _IMDAttachmentRecordGetIsOutgoing,
                        _IMDAttachmentRecordGetTransferState, _IMDBindAttachmentToMessage,
                        _IMDCanDowngradeDatabaseToVersion, _IMDChatRecordAddChat,
                        _IMDChatRecordAddMessageIfNeededUnlocked, _IMDChatRecordBulkCopy,
                        _IMDChatRecordCachedUnreadCount, _IMDChatRecordCopyAllActiveChatsWithBlock,
                        _IMDChatRecordCopyAllChatsWithBlock, _IMDChatRecordCopyCachedLastMessage,
                        _IMDChatRecordCopyChatForGUIDUnlocked, _IMDChatRecordCopyChatRecord,
                        _IMDChatRecordCopyChatsWithHandleOnService, _IMDChatRecordCopyGUID,
                        _IMDChatRecordCopyHandles, _IMDChatRecordCreate,
                        _IMDChatRecordCreateFromRecordIDUnlocked, _IMDChatRecordDeleteChatForGUID_Fast,
                        _IMDChatRecordGetIdentifier, _IMDChatRecordRemoveHandle,
                        _IMDChatRecordRepairDuplicateChats, _IMDChatRecordSetIsFiltered,
                        _IMDCleanseOrphanedAttachments, _IMDConfirmIndexesCreatedAsExpected,
                        _IMDCopyAttachmentPersistentPath, _IMDCopyGUIDForImportedOneToOneChat,
                        _IMDCoreSpotlightDeleteMessageGUIDS, _IMDCoreSpotlightHasMigrated,
                        _IMDCoreSpotlightMarkAttachment, _IMDCreateCFErrorWithQueryErrorCode,
                        _IMDCreateIMItemFromIMDMessageRecordRefWithServiceResolve, _IMDCreateIndexesWithOperation,
                        _IMDCreateTablesWithOperation, _IMDCreateTriggers,
                        _IMDCreateTriggersWithTriggerNames, _IMDDatabaseContainsTable,
                        _IMDDatabaseCopyWithAnonymize, _IMDDatabaseReadTableInfo,
                        _IMDDeregisterReconnectBlockWithIdentifier, _IMDDowngradeDatabaseToVersion,
                        _IMDDropAllIndexesWithOperation, _IMDDropAllTriggersWithOperation,
                        _IMDDropTriggersWithTriggerNames, _IMDDropUnknownIndexesWithOperation,
                        _IMDEnsureSharedRecordStoreInitialized, _IMDGenerateInClauseForCount,
                        _IMDGetDefaultAnonymizedDatabaseFilePath, _IMDGetDefaultTrimmedDatabaseFilePath,
                        _IMDGetDestinationFilePath, _IMDHandleRecordAddHandleRecord,
                        _IMDHandleRecordBulkUpdate, _IMDHandleRecordCopyHandleForIDOnService,
                        _IMDHandleRecordCopyHandleRecordUnlocked, _IMDHandleRecordCopyUncanonicalizedID,
                        _IMDHandleRecordCreateFromRecordID, _IMDHandleRecordGetIdentifier,
                        _IMDImportAttachmentWithPath, _IMDInt64FromSqlColumn,
                        _IMDIsRunningInDatabaseServerProcess, _IMDMergeDuplicateChatsWithOperation,
                        _IMDMessageRecordAddMessageRecord, _IMDMessageRecordBulkCopy,
                        _IMDMessageRecordCopyAllUnplayedMessageGUIDsForChatGUID, _IMDMessageRecordCopyAndMarkAsReadMessagesPriorToGuidMatchingRoomnameOnService,
                        _IMDMessageRecordCopyAttachments, _IMDMessageRecordCopyExpiringOrExpiredMessages,
                        _IMDMessageRecordCopyGUIDsForMessagesWithChatIdentifiersOnServices, _IMDMessageRecordCopyGUIDsMarkingMessagesAsReadWithHandlesOnServicesUpToGUIDFromMe,
                        _IMDMessageRecordCopyHandle, _IMDMessageRecordCopyLastReceivedMessage,
                        _IMDMessageRecordCopyMessageForGUID, _IMDMessageRecordCopyMessageForRowID,
                        _IMDMessageRecordCopyMessageMatchingBodyStringWithChatIdentifiersServicesSkippingGUIDsQuery, _IMDMessageRecordCopyMessageMatchingBodyStringWithHandleSkippingServicesSkippingGUIDsQuery,
                        _IMDMessageRecordCopyMessageRecordUnlocked, _IMDMessageRecordCopyMessagesBetweenRowIDs,
                        _IMDMessageRecordCopyMessagesForAssociatedGUID, _IMDMessageRecordCopyMessagesForGUIDsQuery,
                        _IMDMessageRecordCopyMessagesWithChatIdentifiersOnServicesLimit, _IMDMessageRecordCopyMessagesWithChatIdentifiersOnServicesUpToGUIDOrLimitQuery_Original,
                        _IMDMessageRecordCopyMessagesWithHandleOnServiceLimit, _IMDMessageRecordCopyMessagesWithRoomNamesOnServicesUpToGUIDOrLimit,
                        _IMDMessageRecordCopyMostRecentUseageOfAddresses, _IMDMessageRecordCopyNewMessagesForKnownRowIDs,
                        _IMDMessageRecordCopyNewestUnreadIncomingMessagesToLimitAfterRowID, _IMDMessageRecordCopyText,
                        _IMDMessageRecordCopyUnreadIncomingMessagesWithChatIdentifiersOnServicesToLimitFallbackGUID, _IMDMessageRecordCountAllUnreadMessages,
                        _IMDMessageRecordCountAllUnreadMessagesForChatRowID, _IMDMessageRecordCountMessages,
                        _IMDMessageRecordCreateFromRecordID, _IMDMessageRecordCreateFromRecordIDWithLock,
                        _IMDMessageRecordDeleteMessagesForGUIDs, _IMDMessageRecordDeleteMessagesWithGUIDsChatIdentifiersOnServices,
                        _IMDMessageRecordDeleteMessagesWithGUIDsChatIdentifiersOnServicesQuery1_Original, _IMDMessageRecordDeleteMessagesWithGUIDsChatIdentifiersOnServicesQuery3,
                        _IMDMessageRecordGetHistoryAllItemsQuery2, _IMDMessageRecordGetIndentifierForMessageWithGUID,
                        _IMDMessageRecordGetRecordIdentifier, _IMDMessageRecordIsVisibleByDefault,
                        _IMDMessageRecordLoadMessagesInSet, _IMDMessageRecordMarkMessageGUIDAsDeduplicated,
                        _IMDMessageRecordSelectMessagesWithGUIDsChatIdentifiersOnServicesQuery1_Original, _IMDMessageRecordSetOtherHandle,
                        _IMDMessageRecordUnassociateMessageWithGUIDFromAttachmentWithGUID, _IMDMessageRecordWasDeduplicated,
                        _IMDMigrateTo10001, _IMDMigrateTo10004,
                        _IMDMigrateTo10007, _IMDMigrateTo10010,
                        _IMDMigrateTo10012, _IMDMigrateTo8200,
                        _IMDPersistenceCheckDatabaseThread, _IMDPersistencePerformBlockAfterDelay,
                        _IMDPersistenceProtectionMerge_MergeUnprotectedDatabase, _IMDPersistenceProtectionMerge_SetChatRowIDIfTempDatabase,
                        _IMDPersistenceProtectionMerge_UpdateChatROWIDForNewTable, _IMDRecordStoreIncrementInitializeCount,
                        _IMDRegisterReconnectBlockWithIdentifier, _IMDRunSqlOperation,
                        _IMDSMSMarkAsReadCompletedNotification, _IMDSMSRecordStoreClose,
                        _IMDSMSRecordStoreCopySMSDBPathWithCreate, _IMDSMSRecordStoreCreateSMSDBPath,
                        _IMDSMSRecordStoreInvalidateCaches, _IMDSMSRecordStoreRecordCommitChangesAndRelease,
                        _IMDSMSRecordStoreSave, _IMDSMSRecordStoreUseProtectedDatabase,
                        _IMDSelectAllMessagesForDeletionAfterDays, _IMDSelectAllTriggers,
                        _IMDSelectMessagesForDeletionAfterDays, _IMDSetIsRunningInDatabaseServerProcess,
                        _IMDSharedSqliteDatabase, _IMDSharedThreadedRecordStore,
                        _IMDSqlColumnGetObject, _IMDSqlColumnSetColumnValueInXPCDictionary,
                        _IMDSqlOperationAddColumnIfNotExistsToTableWithOperation, _IMDSqlOperationBeginTransaction,
                        _IMDSqlOperationColumnExistsOnTableWithOperation, _IMDSqlOperationCommitTransaction,
                        _IMDSqlOperationErrorDescription, _IMDSqlOperationFinishQuery,
                        _IMDSqlOperationGetError, _IMDSqlOperationGetXpcRows,
                        _IMDSqlOperationHasRows, _IMDSqlOperationInitWithCSDBConnection,
                        _IMDSqlOperationInitWithPath, _IMDSqlOperationInitWithThreadedMessageStore,
                        _IMDSqlOperationIsQueryIndexed, _IMDSqlOperationRevertTransaction,
                        _IMDSqlOperationSetThreadedMessageStore, _IMDSqlOperationWasInitialized,
                        _IMDSqlStatementBindInt, _IMDSqlStatementBindTextFromArrayOfCFStrings,
                        _IMDSqlStatementColumnByIndex, _IMDSqlStatementGetRow,
                        _IMDSqlStatementIterateRow, _IMDSwitchToDatabase,
                        _IMDTrimDatabaseToMessageCount, _IMDTrimSharedDatabaseToMessageCount,
                        _SMS_SCHEMA_VERSION, __IMDAttachmentRecordBulkCopyXPCDictionary,
                        __IMDChatRecordBulkCopyXPCDictionary, __IMDChatRecordGetProperty,
                        __IMDContactsApiInit, __IMDCopyIMDAttachmentRecordFromXPCObjectClient,
                        __IMDCopyIMDChatRecordFromXPCObjectClient, __IMDCopyIMDHandleRecordFromXPCObjectClient,
                        __IMDCopyIMDMessageRecordFromXPCObjectClient, __IMDCopyXPCObjectFromIMDAttachmentRecordClient,
                        __IMDCopyXPCObjectFromIMDHandleRecordClient, __IMDCoreRecentsApiInit,
                        __IMDCoreSpotlightApiInit, __IMDCoreSpotlightCNContactForHandle,
                        __IMDCoreSpotlightFullNameForContact, __IMDCoreSpotlightPerson,
                        __IMDCreateDatabasePathIfNecessary, __IMDDatabasePerformMigrations,
                        __IMDHandleRecordBulkCopyXPCDictionary, __IMDInsertErrorToXPCDictionary,
                        __IMDMessageRecordComputeNewMessagesForKnownRowIDs, __IMDPerformBlock,
                        __IMDPerformLockedConnectionBlock, __IMDPerformLockedMessageStoreBlock,
                        __IMDPerformLockedStatementBlockWithQuery, __IMDSMSRecordStoreCountersGetAllSent,
                        __IMDSMSRecordStoreCountersReset, __IMDSMSRecordStoreCustomFunctionDeleteAttachment,
                        __IMDSMSRecordStoreDataCountersGetLifetimeReceived, __IMDSMSRecordStoreInitializeSharedThreadedRecordStore,
                        __IMDSMSRecordStoreUpdateLastDeleteSequenceNumberUnlocked, __IMDSetDatabasePathFunction,
                        __IMDSqlOperationBeginQuery, __IMDSqlOperationGetRowsForQuery,
                        __IMDSqlOperationGetRowsWithBindingBlock, __IMDSqlOperationRunQueryWithString,
                        _kIMDSMSServiceIdentifier, _printToLogFile,
                        _IMDAttachmentCopyAttachmentWithStickerPath, _IMDAttachmentRecordCopyAttachmentForGUID,
                        _IMDAttachmentRecordCopyAttachmentRecord, _IMDAttachmentRecordCopyGUID,
                        _IMDAttachmentRecordCopyUTIType, _IMDAttachmentRecordCreateFromRecordIDUnlocked,
                        _IMDAttachmentRecordDoesAttachmentWithGUIDExist, _IMDAttachmentRecordGetStartDate,
                        _IMDBlobFromSqlColumn, _IMDChatRecordAddHandle,
                        _IMDChatRecordBulkUpdate, _IMDChatRecordCopyAllChats,
                        _IMDChatRecordCopyChatForGUID, _IMDChatRecordCopyChatRecordUnlocked,
                        _IMDChatRecordCopyGUIDUnlocked, _IMDChatRecordCreateFromRecordID,
                        _IMDChatRecordDisassociateMessageWithGUIDFromChatWithGUIDIfNeeded, _IMDChatRecordRemoveMessage,
                        _IMDCleanseBrowserSnapshots, _IMDConfirmTablesCreatedAsExpected,
                        _IMDCoreSpotlightDeleteChatGUID, _IMDCoreSpotlightIndexAllChats,
                        _IMDCreateDeleteDeletedMessagesGuidsQuery, _IMDCreateQueryRemoveMessagesFromMessageTableWithMessageGuidCount,
                        _IMDCreateTriggersWithOperation, _IMDDatabaseCopy,
                        _IMDDeleteOrphanedHandles, _IMDDropAllIndexes,
                        _IMDDropTableWithOperation, _IMDDropUnknownTablesWithOperation,
                        _IMDGetDatabasePath, _IMDGetDefaultTrimmedDatabaseFolderPath,
                        _IMDHandleRecordBulkCopy, _IMDHandleRecordCopyHandleRecord,
                        _IMDHandleRecordCreate, _IMDImportAttachmentWithData,
                        _IMDIntFromSqlColumn, _IMDMessageImportEnd,
                        _IMDMessageRecordBulkUpdate, _IMDMessageRecordCopyArrayOfAssociatedMessagesForMessageGUIDFromSender,
                        _IMDMessageRecordCopyFrequentRepliesForChatIdentifiersOnServicesUpToLimit, _IMDMessageRecordCopyGUIDsMarkingMessagesAsReadWithRoomnamesOnServicesUpToGUIDFromMe,
                        _IMDMessageRecordCopyMessageActionItemsForOriginalMessageGUID, _IMDMessageRecordCopyMessageMatchingBodyStringWithChatIdentifiersServicesSkippingGUIDs,
                        _IMDMessageRecordCopyMessageRecord, _IMDMessageRecordCopyMessagesDataDetectionResults,
                        _IMDMessageRecordCopyMessagesForRowIDs, _IMDMessageRecordCopyMessagesWithHandleIDLimit,
                        _IMDMessageRecordCopyMessagesWithRoomnameOnServiceLimit, _IMDMessageRecordCopyNewestFailedOutgoingMessagesToLimitAfterRowID,
                        _IMDMessageRecordCopyUndeliveredOneToOneiMessages, _IMDMessageRecordCountAllUnreadMessagesForChatGUID,
                        _IMDMessageRecordCreate, _IMDMessageRecordDeleteBatchOfDeletedMessageGuids,
                        _IMDMessageRecordDeleteMessagesWithGUIDsChatIdentifiersOnServicesQuery1, _IMDMessageRecordDeleteOrphanedMessages,
                        _IMDMessageRecordGetMessagesSequenceNumber, _IMDMessageRecordLastFailedMessageRowID,
                        _IMDMessageRecordSelectMessagesWithGUIDsChatIdentifiersOnServicesQuery1, _IMDMessageRecordSetWasDeduplicated,
                        _IMDMigrateTo10000, _IMDMigrateTo10005,
                        _IMDMigrateTo10011, _IMDMigrateTo9002,
                        _IMDPersistenceProtectionMerge_DeleteUnprotectedDatabase, _IMDPersistenceProtectionMerge_UnprotectedDatabaseExists,
                        _IMDRecordStoreInitializeCount, _IMDSMSFailedToSendNotification,
                        _IMDSMSRecordStoreCopySMSDBPath, _IMDSMSRecordStoreGetSchemaVersion,
                        _IMDSMSRecordStoreRecordCommitChangesAndReleaseUnlocked, _IMDScheduleSpotlightUpdateForDeletedMessages,
                        _IMDSelectDeletedMessages, _IMDSetUseBackgroundThreadForSpotlightUpdates,
                        _IMDSharedThreadedRecordStoreIsNull, _IMDSqlOperationAddColumnIfNotExistsToTable,
                        _IMDSqlOperationColumnExistsOnTable, _IMDSqlOperationDictionaryFromXPCDictionary,
                        _IMDSqlOperationGetDatabasePath, _IMDSqlOperationGetXpcRowsForQuery,
                        _IMDSqlOperationInitWithCSDBDatabase, _IMDSqlOperationInvalidateCaches,
                        _IMDSqlOperationSetError, _IMDSqlStatementBindDouble,
                        _IMDSqlStatementBindTextFromCFString, _IMDSqlStatementGetXPCRow,
                        _IMDTrimDatabaseToDays, _IMDUpdateSpotlightForChatThresholdMessageUnlocked,
                        __IMDAttachmentRecordDeleteAttachmentsExceptPreviewsToKeep, __IMDChatRecordSetProperty,
                        __IMDCopyIMDAttachmentRecordFromXPCObjectServer, __IMDCopyIMDHandleRecordFromXPCObjectServer,
                        __IMDCopyXPCObjectFromIMDChatRecordClient, __IMDCoreRecentsKindForHandleID,
                        __IMDCoreSpotlightContactStore, __IMDCoreSpotlightServiceIsLegacy,
                        __IMDGetErrorFromXPCDictionary, __IMDMessageRecordBulkCopyXPCDictionary,
                        __IMDPerformBlockWithDelay, __IMDPerformLockedMessageStoreBlockWithoutInitialize,
                        __IMDSMSRecordStoreCountersGetLastResetTime, __IMDSMSRecordStoreCustomFunctionTrim,
                        __IMDSMSRecordStoreSaveAndInvalidateCaches, __IMDSetSharedMessageRecordStore,
                        __IMDSqlOperationGetRowsForQueryWithBindingBlock, __IMDUpdateSequenceNumberWithConnection,
                        _kIMDiMessageServiceIdentifier ]
    objc-classes:     [ _IMAbstractDatabaseArchiver,
                        _IMDAbstractDatabaseDowngrader, _IMDPersistentAttachmentController,
                        _IMDSqlSelectQuery, _IMDWhitetailToCoralDowngradeHelper,
                        _IMDatabaseAnonymizer, _IMTrimDatabaseToMessageCount,
                        _IMAbstractDatabaseTrimmer, _IMDSqlQuery,
                        _IMDWhitetailToCoralDowngrader, _IMTrimDatabaseToDays ]
...
